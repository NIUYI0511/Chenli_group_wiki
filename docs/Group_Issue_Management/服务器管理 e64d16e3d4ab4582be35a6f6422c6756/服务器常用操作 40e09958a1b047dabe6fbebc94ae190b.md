# æœåŠ¡å™¨å¸¸ç”¨æ“ä½œ

# è®¾ç½®sshå¯†é’¥å¯¹ï¼ˆå¯ä»¥ç›´æ¥å‚è€ƒvscodeé…ç½®è¿‡ç¨‹ï¼‰

[è®¾ç½® SSH é€šè¿‡å¯†é’¥ç™»å½• | èœé¸Ÿæ•™ç¨‹ (runoob.com)](https://www.runoob.com/w3cnote/set-ssh-login-key.html)

1. åœ¨ç»ˆç«¯è¾“å…¥å‘½ä»¤ç”Ÿæˆå…¬ç§é’¥å¯¹ï¼›ï¼ˆåœ¨æœåŠ¡å™¨ç«¯å’Œä¸ªäººä¸»æœºç«¯å‡å¯ç”Ÿæˆï¼‰

```bash
ssh-keygen
```

1. åœ¨ç”Ÿæˆçš„ä½ç½®æ‰¾åˆ°å…¬ç§é’¥æ–‡ä»¶ï¼›
2. ä¸Šä¼ å…¬é’¥ï¼ˆæ–‡ä»¶ç±»å‹ä¸ºpubï¼‰åˆ°/.sshæ–‡ä»¶ç›®å½•ä¸‹ï¼Œä¸Šä¼ ç§é’¥åˆ°C:\Users\<Username>\.sshæ–‡ä»¶ç›®å½•ä¸‹

<aside>
ğŸ’¡ **æ³¨æ„ï¼š**ç»è¿‡æµ‹è¯•ï¼Œæœ€å¥½æŠŠç§é’¥éƒ½æ”¾åœ¨Cç›˜.sshç›®å½•ä¸‹ï¼Œå¦åˆ™ä½¿ç”¨vscodeè¿æ¥å¯èƒ½å­˜åœ¨é—®é¢˜

</aside>

1. ä¸ºå…¬é’¥æ·»åŠ æƒé™ï¼š

```bash
# å¦‚æœæ˜¯æ–°ç”¨æˆ·ï¼Œåˆ™æ³¨æ„åˆ›å»º.sshæ–‡ä»¶
mkdir ~/.ssh
# åˆ›å»ºauthorized_keysæ–‡ä»¶ï¼š
touch ~/.ssh/authorized_keys
# æ·»åŠ å…¬é’¥åˆ°æ–‡ä»¶ä¸­ï¼š
cat ~/.ssh/id_rsa.pub >> ./.ssh/authorized_keys
# è®¾ç½®æ­£ç¡®çš„æƒé™ï¼š
chmod 700 ~/.ssh
chmod 600 ~/.ssh/authorized_keys
```

# ä½¿ç”¨vscodeé“¾æ¥

[https://blog.csdn.net/weixin_50548064/article/details/122664871?ydreferer=aHR0cHM6Ly9jbi5iaW5nLmNvbS8%3D](https://blog.csdn.net/weixin_50548064/article/details/122664871?ydreferer=aHR0cHM6Ly9jbi5iaW5nLmNvbS8%3D)

ç”¨æˆ‘çš„æ ¼å¼ä¸¾ä¾‹ï¼›

![Untitled](%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C%2040e09958a1b047dabe6fbebc94ae190b/Untitled.png)

# ä½¿ç”¨MobaXtermé“¾æ¥

![Untitled](%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C%2040e09958a1b047dabe6fbebc94ae190b/Untitled%201.png)

åˆ†åˆ«è®¾ç½®å¦‚å›¾æ‰€ç¤ºçš„å‚æ•°å³å¯ï¼›

# ä¿®æ”¹æ–‡ä»¶å¤¹æ‰€å±å…³ç³»

ç³»ç»Ÿé‡è£…ä¹‹åå¯èƒ½é¢ä¸´ç”¨æˆ·æƒé™ä¸åŒ¹é…çš„æƒ…å†µï¼Œéœ€è¦rootç”¨æˆ·é‡æ–°æŒ‡å®šæƒé™ï¼›

- æƒé™æŸ¥çœ‹æ–¹å¼ï¼š

```bash
ls -l
# drwxrwxr-x 28 ljs 1028 4096 11æœˆ 22  2022 folder
# ljs è¡¨ç¤ºå±äºç”¨æˆ·ljs 1028è¡¨ç¤ºå±äºgroup 1028
```

- æŸ¥çœ‹å¯¹åº”ç”¨æˆ·çš„id

```bash
id ljs
# 1002
```

- ä¿®æ”¹å¯¹åº”ç”¨æˆ·æƒé™

```bash
chown -R 1001 /path/to/folder  # ä¿®æ”¹æ–‡ä»¶å¤¹æ‰€å±ç›®å½•
chgrp -R æ–°GID æ–‡ä»¶å¤¹è·¯å¾„  # ä¿®æ”¹æ–‡ä»¶å¤¹æ‰€å±ç»„
```

# æœåŠ¡å™¨åˆ›å»ºç”¨æˆ·

- åˆ›å»ºæ–°è´¦æˆ·

```bash
sudo adduser <username>
```

å°†<æ–°ç”¨æˆ·å> æ›¿æ¢ä¸ºæƒ³è¦åˆ›å»ºçš„æ–°è´¦æˆ·çš„ç”¨æˆ·åï¼ŒæŒ‰ç…§æç¤ºè¾“å…¥ç”¨å¹¿çš„å¯†ç å’Œå…¶ä»–ç›¸å…³ä¿¡æ¯ã€‚

- å¦‚æœæ·»åŠ sudo æƒé™**ï¼ˆè°¨æ…æ“ä½œï¼‰**

```bash
sudo usermod -aG sudo <username>
```

æ³¨æ„ï¼šåœ¨æŸäº›Linuxå‘è¡Œç‰ˆä¸Šï¼Œsudoç»„å¯èƒ½è¢«ç§°ä¸ºå…¶ä»–åç§°ï¼Œå¦‚admã€wheelç­‰ã€‚è¯·æ ¹æ®æ‚¨çš„ç‰¹å®šå‘è¡Œç‰ˆå’Œé…ç½®è¿›è¡Œç›¸åº”çš„è°ƒæ•´ã€‚

- åˆ›å»ºæ–°ç”¨æˆ·ï¼Œå¹¶è®¾ç½®sshè¿æ¥æ–¹æ³•ä¸¾ä¾‹ï¼š

![Untitled](%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C%2040e09958a1b047dabe6fbebc94ae190b/Untitled%202.png)

å¯èƒ½éœ€è¦è®¾ç½®è´¦å·æƒé™ï¼Œä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ã€‚å¯ä»¥ä¿®æ”¹å…¶ä»–ç£ç›˜ä¸‹è¯¥ç”¨æˆ·çš„æ–‡ä»¶å¤¹æƒé™ã€‚

```bash
chown -R <user_name> /path/to/folder  # ä¿®æ”¹æ–‡ä»¶å¤¹æ‰€å±ç›®å½•
```

- æŸ¥çœ‹æœåŠ¡å™¨æ‰€æœ‰ç”¨æˆ·ï¼š

```bash
cut -d: -f1,3 /etc/passwd
```

# æœåŠ¡å™¨åˆ é™¤ç”¨æˆ·

```bash
# åˆ é™¤ç”¨æˆ·è´¦æˆ·åŠå…¶ä¸»ç›®å½•
userdel -r username
# åˆ é™¤ç”¨æˆ·è´¦æˆ·å¹¶ä¿ç•™å…¶ä¸»ç›®å½•
userdel username
```

# sshç™»å½•æƒé™è®¾ç½®ï¼ˆæ–°æœåŠ¡å™¨ç»Ÿä¸€ç™»å½•æ–¹å¼è®¾ç½®ï¼‰

ä¿®æ”¹æ–‡ä»¶ vim /etc/ssh/sshd_config

éœ€è¦ä¿®æ”¹ï¼š

ç¦æ­¢ç›´æ¥ä½¿ç”¨rootç™»å½•ï¼›

PermitRootLogin no

è®¾ç½®å¯ä»¥ä½¿ç”¨å¯†é’¥ç™»å½•ï¼›

RSAAuthentication yes
PubkeyAuthentication yes

ç¦æ­¢ä½¿ç”¨å¯†ç ç™»å½•ï¼›

PasswordAuthentication no

æ³¨æ„ï¼šä¿å­˜åéœ€é‡å¯sshæœåŠ¡ä»¥ç”Ÿæ•ˆ

```bash
#æŸ¥çœ‹æ“ä½œç³»ç»Ÿ
uname -a
#centosç³»ç»Ÿ
service sshd restart
#ubuntuç³»ç»Ÿ(ours
service ssh restart
#debianç³»ç»Ÿ
/etc/init.d/ssh restart
```

æ³¨ï¼šå¦‚æœå‡ºç°å¦‚ä¸‹æç¤ºï¼šRedirecting to /bin/systemctl restart sshd.service

æ‰§è¡Œå‘½ä»¤ï¼Œé‡å¯sshdæœåŠ¡ï¼šsystemctl start sshd.service

![Untitled(1)(1).png](%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C%2040e09958a1b047dabe6fbebc94ae190b/Untitled(1)(1).png)

# ç”¨æˆ·æ— æ³•ç™»å½•

- æœåŠ¡å™¨129å‡ºç°äº†ä¹‹å‰ç”¨æˆ·æ— æ³•ç™»å½•çš„é—®é¢˜ï¼›
    - è§£å†³æ–¹æ¡ˆï¼šåˆ é™¤ä¹‹å‰ç”¨æˆ·ï¼ˆç¡®ä¿ä¸»æ–‡ä»¶å¤¹ä¸­æ²¡æœ‰å†…å®¹ï¼‰ï¼Œé‡å»ºç”¨æˆ·ã€‚
    - é‡æ–°è®¾ç½®sshç™»å½•ä»¥åŠæ–‡ä»¶å¤¹æƒé™ï¼›

# æœåŠ¡å™¨æŒ‚è½½nas

## è®¾ç½®nas

![Untitled](%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C%2040e09958a1b047dabe6fbebc94ae190b/Untitled%203.png)

- è®¾ç½®é™æ€IP

![Untitled](%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C%2040e09958a1b047dabe6fbebc94ae190b/Untitled%204.png)

![Untitled](%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C%2040e09958a1b047dabe6fbebc94ae190b/Untitled%205.png)

- åœ¨nasä¸Šè¿›è¡Œè®¾ç½®ï¼š

![Untitled](%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C%2040e09958a1b047dabe6fbebc94ae190b/Untitled%206.png)

- æœåŠ¡å™¨æŒ‚è½½ï¼ˆè®¾ç½®naså¹¶è¿›è¡Œç›¸åº”æŒ‚è½½ï¼‰

å‚è€ƒé“¾æ¥ï¼š

[https://blog.csdn.net/chenzhiwen1998/article/details/119613471](https://blog.csdn.net/chenzhiwen1998/article/details/119613471)

å‚è€ƒä»£ç ï¼Œä»¥nas2ä¸ºä¾‹ï¼š

```bash
cd .. é€€å›åˆ°åº•å±‚æ–‡ä»¶å¤¹
sudo mkdir /data_nas2
aptâ€ƒupdate
aptâ€ƒinstallâ€ƒnfs-common
sudo mount -t nfs 10.181.8.202:/volume1/homes /data_nas2
```

- å„æœåŠ¡å™¨å…·ä½“å‘½ä»¤

```bash
# 197 æœåŠ¡å™¨
sudo mount -t nfs 10.181.8.202:/volume1/homes /data_nas
sudo mount -t nfs 10.181.8.195:/volume1/133data /home6
# 129 æœåŠ¡å™¨
æ— nasæŒ‚è½½
# 133 æœåŠ¡å™¨ 
sudo mount -t nfs 10.181.8.195:/volume1/133data /data_nas
sudo mount -t nfs 10.181.8.202:/volume1/homes /data_nas2
# 196 æœåŠ¡å™¨ 
sudo mount -t nfs 10.181.8.195:/volume1/133data /data_nas
sudo mount -t nfs 10.181.8.202:/volume1/homes /data_nas2
# 130 æœåŠ¡å™¨

# 35, 36æœåŠ¡å™¨
sudo mount -t nfs 10.181.8.195:/volume1/133data /data_nas1
sudo mount -t nfs 10.181.8.202:/volume1/homes /data_nas2

```

```bash
# è§£æå‘½ä»¤
sudo mount -t nfs 10.181.8.202:/volume1/homes /data_nas2
# å‘½ä»¤è¡¨ç¤ºæŠŠ*** æŒ‚è½½åˆ° ***ä¸Š
# å…¶ä¸­ 10.181.8.202:/volume1/homes å¯¹åº”nasçš„è·¯å¾„: é™æ€IPåŠå…¶nasæœåŠ¡å™¨ä¸Šçš„è·¯å¾„ï¼ˆå¯ä»¥ç†è§£ä¸ºå¦ä¸€å°æœåŠ¡å™¨ä¸Šçš„æŸä¸ªè·¯å¾„ï¼‰
# /data_nas2 è¡¨ç¤ºæœ¬æœåŠ¡å™¨å¯¹åº”çš„è·¯å¾„ï¼Œå¦‚35æœåŠ¡å™¨æŠŠnas2æŒ‚åœ¨/data_nas2ä½ç½®
# æ¯å°nasçš„è·¯å¾„æ˜¯å›ºå®šçš„ï¼Œnas1æ˜¯10.181.8.195:/volume1/133dataï¼Œnas2æ˜¯10.181.8.202:/volume1/homes
```

# æœåŠ¡å™¨ç¡¬ç›˜æŒ‚è½½

- 132 ç›®å‰æŒ‚è½½æƒ…å†µ

![Untitled](%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C%2040e09958a1b047dabe6fbebc94ae190b/Untitled%207.png)

- å¦‚æœå‡ºç°å¦‚ä¸‹æƒ…å†µï¼š

![Untitled](%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C%2040e09958a1b047dabe6fbebc94ae190b/Untitled%208.png)

```bash
# sdbçš„æ–‡ä»¶ç³»ç»Ÿæ— æ³•æ£€æµ‹ï¼Œå°è¯•è¿›è¡Œä¿®å¤ï¼š
sudo fsck /dev/sdb
# ä¿®å¤ä¹‹åå¯ä»¥ç›´æ¥è¿›è¡ŒæŒ‚è½½ï¼š
sudo mount /dev/sdb /home1
```

- æŒ‚è½½ä¹‹åçš„ç»“æœï¼š

![Untitled](%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C%2040e09958a1b047dabe6fbebc94ae190b/Untitled%209.png)